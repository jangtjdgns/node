<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>토론방</title>
    <link rel="stylesheet" href="discussion-room.css">
    <!-- 페이지네이션 구현 부트스트랩 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/7a79c7be2a.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $(function () {
            var $input = $(".select-discussion-rooms input");

            var btnIdx = 0;         // 버튼 index

            if($input.val() === 'all'){
                btnIdx = 0;
            } else if($input.val() === 'rec'){
                btnIdx = 1;
            } else {
                btnIdx = 2;
            }
            
            console.log($(".select-discussion-rooms button").eq(btnIdx).text());

            $(".select-discussion-rooms button").eq(btnIdx).css("backgroundColor", "#e4d2bc");


            $(".select-discussion-rooms button").click(function () {
                
                if ($(this).index() === 1) {
                    $input.val("all");
                } else if ($(this).index() === 2) {
                    $input.val("rec");
                } else {
                    $input.val("my");
                }
            });
        });
    </script>
</head>

<body>

    <main>
        <article class="discussion-rooms-article">
            <!-- 토론방 선택 -->
            <div class="select-discussion-rooms">
                <form action="/DR" method="post">
                    <input name="dr" type="hidden" value="<%= val %>">
                    <button type="submit">전체 토론방</button>
                    <button type="submit">추천 토론방</button>
                    <button type="submit">내 토론방</button>
                </form>
            </div>

            <!-- 토론방 타이틀 모음 -->
            <div class="room-title-wrap">
                <ul>
                    <li class="room-number">No</li>
                    <li class="room-name">토론방 이름</li>
                    <li class="room-manager">방장</li>
                </ul>
            </div>


            <!-- 토론방 목록 -->
            <div class="discussion-rooms-list">
                <div class="user-rooms-wrap">
                    <% if(rooms.length==0){ %>
                        <p>현재 생성된 방이 없습니다.</p>
                        <% } else { %>
                            <!-- 방 생성 -->
                            <% for(var room of rooms){ %>
                                <ul>
                                    <li>
                                        <%= room.id %>
                                    </li>
                                    <li>
                                        <%= room.room_name %>
                                    </li>
                                    <li>
                                        <%= room.room_admin %>
                                    </li>
                                </ul>
                                <% } %>
                                    <% } %>
                </div>
            </div>
        </article>

        <!-- 지호님 pagenation -->
        <nav aria-label="Page navigation example" class="pagination-container">
            <ul class="pagination">
                <li class="page-item"><a class="page-link" href="#">이전</a></li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">다음</a></li>
            </ul>
        </nav>

        <!-- 토론방 검색, 만들기 -->
        <div class="room-search-wrap">
            <p>토론방 이름 검색</p>
            <input class="search-input" type="text" placeholder="검색창">
            <button class="room-search-btn">검색</button>
            <div></div> <!-- grid용 div -->
            <button class="add-room-btn">새 토론방 만들기</button>
        </div>


    </main>

    <!-- <footer id="footer"></footer> -->
</body>

</html>